name: Commit stage

on :
  push:
    branches: [ $MAIN_BRANCHES ]
  pull_request:
    branches: [ $PR_BRANCH ]
    paths-ignore:
      - 'Docker'
      - '**/README.md'
      - '**/LICENCE'

jobs:
  commit-stage:
    uses: L-Acoustics/la-mw-gh-action/.github/workflows/commit_stage.yml@$VERSION_REF
    secrets:
      GH_TOKEN: ${{secrets.GITHUB_TOKEN}}
      KEYCHAIN_PASSWORD: ${{secrets.KEYCHAIN_PASSWORD}}
      APPLE_CERTIFICATES_P12_BASE64_PASSWORD: ${{secrets.APPLE_CERTIFICATES_P12_BASE64_PASSWORD}}
      APPLE_CERTIFICATES_P12_BASE64: ${{secrets.APPLE_CERTIFICATES_P12_BASE64}}
      NOTARIZATION_PROFILE_PASSWORD: ${{secrets.NOTARIZATION_PROFILE_PASSWORD}}
      NOTARIZATION_APPLE_ID: ${{secrets.NOTARIZATION_APPLE_ID}}

